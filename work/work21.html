<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
  </head>
  <script>
    function rps_game () {
      result=[0,0,0,0];
      result_per=[0,0,0,0];
      for(i=1; i>0; i++){
        alert(i+"차전 시작!")
        var user_choice=0;
        user_choice=prompt("가위 / 바위 / 보 중 하나를 입력");
        alert(user_choice+"를 선택하셨습니다.");
    
        if(user_choice=="가위"){
          user_choice=1;
        } else if (user_choice=="바위") {
          user_choice=2;
        } else if (user_choice=="보") {
          user_choice=3;
        };
    
        var com_choice=Math.ceil(Math.random()*3);
        if(com_choice==1){
          alert("컴퓨터는 가위를 선택했습니다.");
        } else if (com_choice==2) {
          alert("컴퓨터는 바위를 선택했습니다.");
        } else if (com_choice==3) {
          alert("컴퓨터는 보를 선택했습니다.");
        };
    
        if (user_choice==1) { // 사용자 가위
          if (com_choice==2) { // 컴퓨터 바위
            result[2]++;
            alert("졌습니다.");
            document.write(i+"차전은 졌습니다.<br>");
          } else if(com_choice==3){ // 컴퓨터 보
            result[1]++;
            alert("이겼습니다!");
            document.write(i+"차전은 이겼습니다!<br>");
          } else if(com_choice==user_choice){
            result[3]++;
            alert("비겼습니다!");
            document.write(i+"차전은 비겼습니다.<br>");
          }
        } else if (user_choice==2){ //사용자 바위
          if (com_choice==1) { // 컴퓨터 가위
            result[1]++;
            alert("이겼습니다!");
            document.write(i+"차전은 이겼습니다!<br>");
          } else if(com_choice==3){ // 컴퓨터 보
            result[2]++;
            alert("졌습니다.");
            document.write(i+"차전은 졌습니다.<br>");
          } else if(com_choice==user_choice){
            result[3]++;
            alert("비겼습니다!");
            document.write(i+"차전은 비겼습니다.<br>");
          }
          
        } else if (user_choice==3){ //사용자 보
          if (com_choice==1) { // 컴퓨터 가위
            result[2]++;
            alert("졌습니다.");
            document.write(i+"차전은 졌습니다.<br>");
          } else if(com_choice==2){ // 컴퓨터 바위
            result[1]++;
            alert("이겼습니다!");
            document.write(i+"차전은 이겼습니다!<br>");
          } else if(com_choice==user_choice){
            result[3]++;
            alert("비겼습니다!");
            document.write(i+"차전은 비겼습니다.<br>");
          }
        }
        var choice=confirm("계속 하시겠습니까?")
        if(choice==false){
          break;
        }
      }
    }
    function result_write() {
      result_per[1]=result[1]/i*100;
      result_per[2]=result[2]/i*100;
      result_per[3]=result[3]/i*100;
      document.write("<hr> 경기 결과: <br><br>");
      document.write("승 : "+result[1]+" ("+result_per[1]+"%)<br>");
      document.write("무 : "+result[2]+" ("+result_per[2]+"%)<br>");
      document.write("패 : "+result[3]+" ("+result_per[3]+"%)<br>");
    }
    var game_start=confirm("가위바위보 게임을 시작하시겠습니까?");


    if (game_start==true) {
      rps_game();
      result_write();
    } else {
    document.write("게임을 시작하려면 새로고침을 누르세요.")
    }

  </script>

  <body></body>
</html>